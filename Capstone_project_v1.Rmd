---
title: "Capstone Project v1"
author: "H Karen Tam"
date: "October 18, 2017"
output:
  pdf_document: default
  html_document: default
---


```{r echo=FALSE}

# Load tidyr
suppressMessages(library(tidyr))

# Load dplyr
suppressMessages(library(dplyr))

# Reshape income_pp. Make values of different years as rows. 
income_pp_year_as_row <- gather(income_pp, "Year", "Income_per_person", 2:53, na.rm = FALSE)

# Print income_pp_year_as_row
income_pp_year_as_row

# change income_per_person's value as numberic 
as.numeric(income_pp_year_as_row$Income_per_person)

# Round up values in Income_per_person column to 2 decimal places
# round(income_pp_year_as_row$Income_per_person, 2)

income_pp_year_as_row %>% 
  group_by(Country) %>% 
  summarise(mean=mean(Income_per_person)) %>%
  arrange(desc(mean))
  
```
```{r}

summary(income_pp_year_as_row)

ipp_sd <- round(sd(income_pp_year_as_row$Income_per_person, na.rm = TRUE), 2)

paste("The Standard Deviation of Income Per Person is", ipp_sd)
  
```

```{r}

hist(income_pp$`2010`, xlab="Income Per Person 2010", main="Income In Different Countries in 2010")

hist(income_pp$`2000`, xlab="Income Per Person 2000", main="Income In Different Countries in 2000")

hist(income_pp$`1990`, xlab="Income Per Person 1990", main="Income In Different Countries in 1990")

hist(income_pp$`1980`, xlab="Income Per Person 1980", main="Income In Different Countries in 1980")

hist(income_pp$`1970`, xlab="Income Per Person 1970", main="Income In Different Countries in 1970")

hist(income_pp$`1960`, xlab="Income Per Person 1960", main="Income In Different Countries in 1960")

```
```{r}

# Reshape life_expectancy. Make values of different years as rows. 
life_expectancy_year_as_row <- gather(life_expectancy, "Year", "Life_Expectancy", 2:58, na.rm = FALSE)

# Print life_expectancy_year_as_row
life_expectancy_year_as_row

# change Life_Expectancy's value as numberic 
as.numeric(life_expectancy_year_as_row$Life_Expectancy)

life_expectancy_year_as_row %>% 
  group_by(Country) %>% 
  summarise(mean=mean(Life_Expectancy)) %>%
  arrange(desc(mean))

```

```{r}

# Reshape total_health_spending_pp. Make values of different years as rows. 
total_health_spending_pp_year_as_row <- gather(total_health_spending_pp, "Year", "Total_Health_Spending_Per_Person", 2:17, na.rm = FALSE)

# Print total_health_spending_pp_year_as_row
total_health_spending_pp_year_as_row

# change Total Health Spending's value as numberic 
as.numeric(total_health_spending_pp_year_as_row$Total_Health_Spending_Per_Person)

total_health_spending_pp_year_as_row %>% 
  group_by(Country) %>% 
  summarise(mean=mean(Total_Health_Spending_Per_Person)) %>%
  arrange(desc(mean))

```
```{r}

# Reshape government_health_spending_pp. Make values of different years as rows. 
government_health_spending_pp_year_as_row <- gather(government_health_spending_pp, "Year", "Government_Health_Spending_Per_Person", 2:17, na.rm = FALSE)

# Print government_health_spending_pp_year_as_row
government_health_spending_pp_year_as_row

# change Total Health Spending's value as numberic 
as.numeric(government_health_spending_pp_year_as_row$Government_Health_Spending_Per_Person)

government_health_spending_pp_year_as_row %>% 
  group_by(Country) %>% 
  summarise(mean=mean(Government_Health_Spending_Per_Person)) %>%
  arrange(desc(mean))

```

```{r}
# Combine income_pp_year_as_row and life_expectancy_year_as_row

income_vs_life_expectancy <- inner_join(income_pp_year_as_row, life_expectancy_year_as_row)

income_vs_life_expectancy

# Combine income_pp_year_as_row, life_expectancy_year_as_row, and total_health_spending_pp_year_as_row

income_vs_life_vs_spending <- inner_join(income_vs_life_expectancy, total_health_spending_pp_year_as_row)

income_vs_life_vs_spending

```
```{r}
# Simple Scatterplot
attach(income_vs_life_vs_spending)
plot(Income_per_person, Life_Expectancy, main="Income vs Life Expectancy", 
  	xlab="Income Per Person", ylab="LIfe Expectancy")

```

